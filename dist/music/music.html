<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="music.css">
    <title>Music</title>
    
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<!-- npx tailwindcss -i ./src/input.css -o ./dist/music.css --watch  -->


<!-- source https://tailwindcss.com/ -->

<body>
    <div class="mt-6 sm:mt-10 relative z-10 rounded-xl shadow-xl">
        <div
            class="bg-white border-slate-100 transition-all duration-500 dark:bg-slate-800 transition-all duration-500 dark:border-slate-500 border-b rounded-t-xl p-4 pb-6 sm:p-10 sm:pb-8 lg:p-6 xl:p-10 xl:pb-8 space-y-6 sm:space-y-8 lg:space-y-6 xl:space-y-8">
            <div class="flex items-center space-x-4">
                <img src="albumimage.jpeg" loading="lazy" decoding="async" alt=""
                    class="flex-none rounded-lg bg-slate-100" width="88" height="88">
                <div class="min-w-0 flex-auto space-y-1 font-semibold">
                    <p class="text-cyan-500 transition-all duration-500 dark:text-cyan-400 text-sm leading-6">
                        <abbr title="Episode">Ep.</abbr> 128
                    </p>
                    <h2 aria-label="Music for all"
                        class="text-slate-500 transition-all duration-500 dark:text-slate-400 text-sm leading-6 truncate"
                        onmouseover="speakElementDescription(this)">
                        Music for all
                    </h2>
                    <p aria-label="Full on Music" onmouseover="speakElementDescription(this)"
                        class="text-slate-900 transition-all duration-500 dark:text-slate-50 text-lg">
                        Full On Music
                    </p>
                </div>
            </div>
            <div class="space-y-2">
                <div class="relative">
                    <div
                        class="bg-slate-100 transition-all duration-500 dark:bg-slate-700 rounded-full overflow-hidden">
                        <div class="bg-cyan-500 transition-all duration-500 dark:bg-cyan-400 w-1/2 h-2"
                            role="progressbar" aria-label="music progress" aria-valuenow="1456" aria-valuemin="0"
                            aria-valuemax="4550"></div>
                    </div>
                    <div
                        class="ring-cyan-500 transition-all duration-500 dark:ring-cyan-400 ring-2 absolute left-1/2 top-1/2 w-4 h-4 -mt-2 -ml-2 flex items-center justify-center bg-white rounded-full shadow">
                        <div
                            class="w-1.5 h-1.5 bg-cyan-500 transition-all duration-500 dark:bg-cyan-400 rounded-full ring-1 ring-inset ring-slate-900/5">
                        </div>
                    </div>
                </div>
                <div class="flex justify-between text-sm leading-6 font-medium tabular-nums">
                    <div class="text-cyan-500 transition-all duration-500 dark:text-slate-100">0:00</div>
                    <div class="text-slate-500 transition-all duration-500 dark:text-slate-400">0:00</div>
                </div>
            </div>
        </div>
        <div
            class="bg-slate-50 text-slate-500 transition-all duration-500 dark:bg-slate-600 transition-all duration-500 dark:text-slate-200 rounded-b-xl flex items-center">
            <div class="flex-auto flex items-center justify-evenly">
                <button aria-label="Add to favorites" onmouseover="speakElementDescription(this)" type="button">
                    <i class='bx bxs-bookmark-star text-4xl'></i>
                </button>
                <button onmouseover="speakElementDescription(this)" type="button"
                    class="hidden sm:block lg:hidden xl:block" aria-label="Previous">
                    <i class='bx bx-skip-previous text-4xl'></i>
                </button>
                <button onmouseover="speakElementDescription(this)" type="button" aria-label="Rewind 10 seconds">
                    <i class='bx bx-revision text-4xl'></i>
                </button>
            </div>
            <button onmouseover="speakElementDescription(this)" type="button"
                class="bg-white text-slate-900 transition-all duration-500 dark:bg-slate-100 transition-all duration-500 dark:text-slate-700 flex-none -my-2 mx-auto w-20 h-20 rounded-full ring-1 ring-slate-900/5 shadow-md flex items-center justify-center"
                aria-label="Pause">
                <svg width="30" height="32" fill="currentColor">
                    <rect x="6" y="4" width="4" height="24" rx="2"></rect>
                    <rect x="20" y="4" width="4" height="24" rx="2"></rect>
                </svg>
            </button>
            <div class="flex-auto flex items-center justify-evenly">
                <button type="button" aria-label="Skip 10 seconds" onmouseover="speakElementDescription(this)">
                    <i class='bx bx-revision text-4xl'></i>
                </button>
                <button type="button" class="hidden sm:block lg:hidden xl:block" aria-label="Next"
                    onmouseover="speakElementDescription(this)">
                    <i class='bx bx-skip-next text-4xl'></i>
                </button>
                <button type="button"
                    class="rounded-lg text-xs leading-6 font-semibold px-2 ring-2 ring-inset ring-slate-500 text-slate-500 transition-all duration-500 dark:text-slate-100 transition-all duration-500 dark:ring-0 transition-all duration-500 dark:bg-slate-500">
                    1x
                </button>
            </div>
        </div>
    </div>

    <div class="space-y-3">
        <div id="music-1" class="music-track" onclick="playTrack(0)">
            <div
                class="flex items-center justify-between hover:bg-slate-200 dark:hover:bg-slate-700 p-3 rounded-lg transition-all duration-300 cursor-pointer">
                <div class="flex items-center space-x-2">
                    <svg width="24" height="24">
                        <!-- Add your track icon here -->
                    </svg>
                    <p class="text-slate-600 dark:text-slate-300 text-sm">Track 1</p>
                </div>
                <div class="text-slate-500 dark:text-slate-400">3:45</div>
            </div>
        </div>
        <div id="music-2" class="music-track" onclick="playTrack(1)">
            <div
                class="flex items-center justify-between hover:bg-slate-200 dark:hover:bg-slate-700 p-3 rounded-lg transition-all duration-300 cursor-pointer">
                <div class="flex items-center space-x-2">
                    <svg width="24" height="24">
                        <!-- Add your track icon here -->
                    </svg>
                    <p class="text-slate-700 dark:text-slate-300 text-sm">Track 2</p>
                </div>
                <div class="text-slate-700 dark:text-slate-400">2:58</div>
            </div>
        </div>
        <div id="music-3" class="music-track" onclick="playTrack(2)">
            <div
                class="flex items-center justify-between hover:bg-slate-200 dark:hover-bg-slate-700 p-3 rounded-lg transition-all duration-300 cursor-pointer">
                <div class="flex items-center space-x-2">
                    <svg width="24" height="24">
                        <!-- Add your track icon here -->
                    </svg>
                    <p class="text-slate-700 dark:text-slate-300 text-sm">Track 3</p>
                </div>
                <div class="text-slate-700 dark:text-slate-200">2:28</div>
            </div>
        </div>
        <div id="music-4" class="music-track" onclick="playTrack(3)">
            <div
                class="flex items-center justify-between hover:bg-slate-500 dark:hover-bg-slate-700 p-3 rounded-lg transition-all duration-300 cursor-pointer">
                <div class="flex items-center space-x-2">
                    <svg  width="24" height="24">
                        <!-- Add your track icon here -->
                    </svg>
                    <p  class="text-slate-700 dark:text-slate-300 text-sm">Track 4</p>
                </div>
                <div class="text-slate-700 dark:text-slate-400">3:58</div>
            </div>
        </div>
    </div>

    <script >
        // Music data
        const musicData = [
            {
                name: "Track 1",
                duration: "3:45",
                src: "./sample-9s.mp3"
            },
            {
                name: "Track 2",
                duration: "2:58",
                src: "./sample-6s.mp3.mp3"
            },
            {
                name: "Track 3",
                duration: "2:28",
                src: "./sample-15s.mp3"
            },
            {
                name: "Track 4",
                duration: "3:58",
                src: "./sample-12s.mp3"
            }
        ];

        // Music player
        const audio = new Audio();
        let currentTrackIndex = 0;

        // Play the selected track
        function playTrack(index) {
            audio.src = musicData[index].src;
            audio.play();
            document.querySelector(".music-track.active")?.classList.remove("active");
            document.getElementById(`music-${index + 1}`).classList.add("active");
        }

        // Add click event listeners to music tracks
        const musicTracks = document.querySelectorAll(".music-track");
        musicTracks.forEach((track, index) => {
            track.addEventListener("click", () => {
                playTrack(index);
            });
        })
        // Start playing the first track by default
        playTrack(currentTrackIndex);

        // writing code for hover to speech
        // https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis/speak

        function speak(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            window.speechSynthesis.speak(utterance);
        }
        
        function speak(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            window.speechSynthesis.speak(utterance);
        }

        function stopSpeaking() {
            window.speechSynthesis.cancel();
        }

        function speakElementDescription(element) {
            const description = element.getAttribute("aria-label");
            const content = element.textContent;
            speak(`${content}. ${description}`);
            // Add an event listener to stop speaking when the cursor leaves the element
            element.addEventListener("mouseout", stopSpeaking);
        }
    </script>
</body>

</html>